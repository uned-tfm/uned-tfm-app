import { MalwareEvolutionRepository } from '../domain/contracts/malware-evolution.repository';
import { UseCase } from '../../../shared/application/use-case';
import { MalwareEvolutionByMonthPeriod } from '../domain/models/malware-evolution';

export type FindByMonthPeriodInput = {
  month: number;
  year: number;
};

export function findByMonthPeriodBuilder({
  malwareEvolutionRepository
}: {
  malwareEvolutionRepository: MalwareEvolutionRepository;
}): UseCase<FindByMonthPeriodInput, MalwareEvolutionByMonthPeriod[]> {
  return async function findByMonthPeriod(
    input: FindByMonthPeriodInput
  ): Promise<MalwareEvolutionByMonthPeriod[]> {
    return malwareEvolutionRepository.findByMonthPeriod(input.year, input.month);
  };
}
