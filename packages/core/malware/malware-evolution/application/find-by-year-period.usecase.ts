import { MalwareEvolutionRepository } from '../domain/contracts/malware-evolution.repository';
import { UseCase } from '../../../shared/application/use-case';
import { MalwareEvolutionByYearPeriod } from '../domain/models/malware-evolution';

export type FindByYearPeriodInput = {
  year: number;
};

export function findByYearPeriodBuilder({
  malwareEvolutionRepository
}: {
  malwareEvolutionRepository: MalwareEvolutionRepository;
}): UseCase<FindByYearPeriodInput, MalwareEvolutionByYearPeriod[]> {
  return async function findByYearPeriod(
    input: FindByYearPeriodInput
  ): Promise<MalwareEvolutionByYearPeriod[]> {
    return malwareEvolutionRepository.findByYearPeriod(input.year);
  };
}
